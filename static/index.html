web socket test

<div id=rcv></div>

<button id=btn>send</button>

<script type="module">
const protocol = window.location.protocol === "http:" ? "ws://" : "wss://";
const address = protocol + window.location.host + "/ws";
//const address = "ws://[::]:7001/ws";
console.log(address);
const socket = new WebSocket(address);
socket.onmessage = (msg) => {
  console.log("receieve", msg.data);
  rcv.textContent = msg.data;
};
console.log('Live reload enabled.');

let i = 0;
btn.onclick = () => {
  socket.send(i++);
};
</script>
